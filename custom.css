/* ==========================================================================
   Wagipedia Theme CSS (D&D Parchment)
   - Consolidated + de-duplicated
   - Organized into sections
   ========================================================================== */

/* --------------------------------------------------------------------------
   0) Fonts
   -------------------------------------------------------------------------- */
@import url("https://fonts.googleapis.com/css2?family=Cormorant+Garamond:wght@400;600;700&family=Lora:wght@400;600&family=Source+Sans+3:wght@400;600;700&display=swap");
/* NOTE: You reference "Fira Code" for code blocks but don’t import it here.
   If you want it guaranteed, add:
   @import url("https://fonts.googleapis.com/css2?family=Fira+Code:wght@400;600&display=swap");
*/

/* --------------------------------------------------------------------------
   1) Theme tokens / variables
   -------------------------------------------------------------------------- */
:root {
  --dnd-parchment: #f5f1e6;
  --dnd-parchment-dark: #e3d7c0;
  --dnd-ink: #222222;
  --dnd-muted: #5a5347;

  --dnd-red: #b11716;
  --dnd-gold: #ffae00;
  --dnd-blood: #7b1111;

  --dnd-brown: #654519;
  --dnd-deep: #20130c;
  --dnd-border: #c3b59a;

  /* Common gradients */
  --dnd-grad-appbar: linear-gradient(180deg, #2b1b11 0%, var(--dnd-deep) 100%);
  --dnd-grad-panel: linear-gradient(180deg, #f0dfc2, #e3d1ad);
  --dnd-grad-underline: linear-gradient(90deg, var(--dnd-red), var(--dnd-gold), rgba(0, 0, 0, 0));
  --dnd-grad-btn-red: linear-gradient(180deg, #c42523, var(--dnd-red));
  --dnd-grad-btn-gold: linear-gradient(180deg, #ffd75a, var(--dnd-gold));
}


/* --------------------------------------------------------------------------
   2) App shell (background + base color)
   -------------------------------------------------------------------------- */
.v-application {
  background: radial-gradient(circle at top, #fdf8ec 0%, #f3ebdb 40%, #eadfc9 100%) !important;
  color: var(--dnd-ink) !important;
}

/* Vuetify wrapper: ensure our content container behaves predictably */
.v-main .v-main__wrap {
  display: block !important;
}

/* --------------------------------------------------------------------------
   3) Main content container (the “page”)
   -------------------------------------------------------------------------- */
.v-main .contents {
  max-width: 1200px;
  margin: 24px auto 48px;
  padding: 32px 40px;

  background: var(--dnd-parchment);
  border: 1px solid var(--dnd-border);
  border-radius: 4px;
  box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.3) inset;
}

/* Scrollbar styling (WebKit only) */
.contents::-webkit-scrollbar {
  width: 10px;
}
.contents::-webkit-scrollbar-track {
  background: var(--dnd-parchment-dark);
}
.contents::-webkit-scrollbar-thumb {
  background: var(--dnd-brown);
}

/* --------------------------------------------------------------------------
   4) Top app bar (global header)
   -------------------------------------------------------------------------- */
.v-application .v-app-bar {
  background: var(--dnd-grad-appbar) !important;
  color: #f7e9c9 !important;
  border-bottom: 2px solid var(--dnd-red);
}

/* Wiki.js sometimes nests toolbars; inherit the app-bar gradient cleanly */
.v-application .v-app-bar .v-toolbar {
  background: inherit !important;
  border-bottom: none !important;
  box-shadow: none !important;
}

.v-application .v-app-bar .v-toolbar__title {
  font-variant: small-caps;
  letter-spacing: 0.1em;
  color: var(--dnd-gold) !important;
}

/* --------------------------------------------------------------------------
   5) Navigation drawer (left sidebar)
   -------------------------------------------------------------------------- */
#app .v-navigation-drawer,
#app .v-navigation-drawer .primary {
  background: var(--dnd-deep) !important;
  color: #f5e7cb !important;
  border-right: 1px solid #3a2415 !important;
}

#app .v-navigation-drawer a,
#app .v-navigation-drawer .v-list-item__title {
  color: #f5e7cb !important;
}

#app .v-navigation-drawer .v-list-item--active,
#app .v-navigation-drawer .v-list-item--active .v-list-item__title {
  background-color: rgba(255, 174, 0, 0.18) !important;
  color: var(--dnd-gold) !important;
}

#app .v-navigation-drawer .v-list-item--link.primary,
#app .v-navigation-drawer .v-subheader {
  background: #3a2415 !important;
  color: #f5e7cb !important;

  text-transform: uppercase;
  letter-spacing: 0.08em;
  font-size: 0.75rem;
}

/* --------------------------------------------------------------------------
   6) Typography (headings, body, links)
   -------------------------------------------------------------------------- */

/* Headings: shared */
.contents h1,
.contents h2,
.contents h3,
.contents.ck.ck-content h1,
.contents.ck.ck-content h2,
.contents.ck.ck-content h3,
.contents.ck.ck-content h4,
.page-header-headings .headline,
.page-header-section .headline.grey--text.text--darken-3,
.v-main .v-toolbar .page-title,
.v-main .v-toolbar .page-title a,
.v-main .v-toolbar h1 {
  font-family: "Cormorant Garamond", Georgia, "Times New Roman", serif;
  letter-spacing: 0.05em;
}

/* Body text */
.contents p,
.contents li,
.page-header-headings .caption,
.page-header-section .caption.grey--text.text--darken-1,
#discussion textarea,
#discussion .body-2,
.v-main .contents blockquote {
  font-family: Lora, Georgia, "Times New Roman", serif;
  color: var(--dnd-ink);
  line-height: 1.6;
}

/* Sidebar text (Source Sans) */
.v-main .page-col-sd .v-card__title,
.v-main .page-col-sd .v-card__title .title,
.v-main .page-col-sd .v-card__text,
.v-main .page-col-sd .v-list,
.v-main .page-col-sd .v-list-item__content,
.contents td,
.contents th {
  font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

/* Paragraph spacing normalization (Wiki.js / Vuetify override) */
.v-application .v-main .contents p {
  padding: 0 !important;
  margin-top: 0.25rem !important;
  margin-bottom: 0.65rem !important;
}

/* Links */
.contents a {
  color: var(--dnd-red);
  text-decoration: none;
  border-bottom: 1px solid rgba(177, 23, 22, 0.2);
}
.contents a:hover {
  color: var(--dnd-gold);
  border-bottom-color: rgba(255, 174, 0, 0.7);
}

/* Don't underline heading anchor links */
.v-main .contents h1 > a,
.v-main .contents h2 > a,
.v-main .contents h3 > a {
  border-bottom: none !important;
}

/* --------------------------------------------------------------------------
   7) Page title / toolbar area (Wiki.js “page header section”)
   -------------------------------------------------------------------------- */
.page-header-section,
.v-main .v-toolbar {
  background: linear-gradient(180deg, var(--dnd-parchment-dark), var(--dnd-parchment)) !important;
  border-bottom: 2px solid rgba(101, 69, 25, 0.45);
  box-shadow: 0 3px 8px rgba(0, 0, 0, 0.18);
}

.page-header-section .page-col-content {
  background: transparent !important;
}

/* Breadcrumbs */
.v-main .v-toolbar .v-breadcrumbs {
  font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
  font-size: 0.8rem;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--dnd-muted) !important;
}
.v-main .v-toolbar .v-breadcrumbs__divider,
.v-main .v-toolbar .v-breadcrumbs__item,
.v-main .v-toolbar .v-breadcrumbs__item a {
  color: var(--dnd-muted) !important;
}
.v-main .v-toolbar .v-breadcrumbs__item a:hover {
  color: var(--dnd-red) !important;
}

/* Toolbar title */
.v-main .v-toolbar .page-title,
.v-main .v-toolbar .page-title a,
.v-main .v-toolbar h1 {
  font-size: 1.6rem;
  font-weight: 600;
  color: var(--dnd-red) !important;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  margin: 0;
  text-decoration: none !important;
}

.v-main .v-toolbar .page-title::after,
.v-main .v-toolbar h1::after,
.page-header-headings .headline::after {
  content: "";
  display: block;
  margin-top: 0.15rem;
  width: 80px;
  height: 3px;
  background: var(--dnd-grad-underline);
}

/* Header headline/caption sizing */
.page-header-headings .headline,
.page-header-section .headline.grey--text.text--darken-3 {
  font-size: 1.8rem;
  font-weight: 600;
  color: var(--dnd-red) !important;
  text-transform: uppercase;
  letter-spacing: 0.08em;
}
.page-header-headings .caption,
.page-header-section .caption.grey--text.text--darken-1 {
  font-size: 0.95rem;
  color: var(--dnd-muted) !important;
}

/* --------------------------------------------------------------------------
   8) Headings inside article content (.contents)
   -------------------------------------------------------------------------- */

/* h1 */
.contents h1,
.contents h1 a {
  color: var(--dnd-red) !important;
  text-decoration: none !important;
}
.contents h1 {
  font-size: 2.1rem;
  margin: 0 0 0.4rem;
  text-transform: uppercase;

  position: relative;
  display: inline-block;
  max-width: 100%;
  clear: both;
  padding-bottom: 0.3rem;
}
.contents h1::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 120px;
  height: 4px;
  background: var(--dnd-grad-underline) !important;
}

/* h2 */
.contents h2,
.contents h2 a {
  color: var(--dnd-blood) !important;
  text-decoration: none !important;
}
.v-main .contents h2 {
  font-size: 1.6rem;
  margin-top: 0.6rem;
  margin-bottom: 0.15rem;
  padding-bottom: 0.3rem;
  position: relative;
  border-bottom: none !important;
}
.v-main .contents h2::after,
.contents.ck.ck-content h2::after {
  content: "";
  position: absolute;
  left: 0;
  bottom: 0;
  width: 120px;
  height: 2px;
  background: var(--dnd-grad-underline) !important;
}

/* Add "copy link" hint icon on h2 anchor */
.v-main .contents h2 > a {
  position: relative;
  padding-right: 1.4rem;
}
.v-main .contents h2 > a::after {
  content: " ⎘";
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  font-size: 0.9em;
  color: var(--dnd-muted);
  opacity: 0.7;
  transition: transform 0.18s ease-out, color 0.18s ease-out, opacity 0.18s ease-out;
}
.v-main .contents h2 > a:hover {
  color: var(--dnd-gold) !important;
}
.v-main .contents h2 > a:hover::after {
  color: var(--dnd-gold);
  opacity: 1;
  transform: translateY(-50%) translateX(3px);
}

/* h3 */
.contents h3 {
  font-size: 1.3rem;
  margin-top: 1.4rem;
  margin-bottom: 0.2rem;
  color: var(--dnd-red);
}

/* Let h2/h3/h4 behave like normal block headings */
.contents h2,
.contents h3,
.contents.ck.ck-content h2,
.contents.ck.ck-content h3,
.contents.ck.ck-content h4 {
  display: block;
  max-width: 100%;
}

/* --------------------------------------------------------------------------
   9) Drop caps
   -------------------------------------------------------------------------- */
.contents p.dropcap::first-letter {
  float: left;
  font-family: "Cormorant Garamond", Georgia, "Times New Roman", serif;
  color: var(--dnd-red);
  font-size: 2.6rem;
  line-height: 0.9;
  padding-right: 0.3rem;
  padding-top: 0.05rem;
}

@media (max-width: 800px) {
  .contents p.dropcap::first-letter {
    float: none;
    font-size: inherit;
    line-height: inherit;
    padding: 0;
  }
}

/* --------------------------------------------------------------------------
   10) Quotes / blockquotes
   -------------------------------------------------------------------------- */

/* Inline “D&D quote” callout */
.dnd-quote {
  font-family: "Cormorant Garamond", Georgia, "Times New Roman", serif;
  font-style: italic;
  font-size: 1.05rem;

  border-left: 4px solid var(--dnd-red);
  padding-left: 0.75rem;
  margin: 1rem 0;

  color: var(--dnd-muted);
}

/* Blockquote styling */
.v-main .contents blockquote {
  margin: 1.4rem 0;
  padding: 0.9rem 1.3rem 1.1rem 1.4rem;
  background: #f7fbf1;
  border: 1px solid #b6c99b;
  border-radius: 4px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15);
  position: relative;
}
.v-main .contents blockquote::before {
  content: "“";
  position: absolute;
  top: 0.95rem;
  left: 1.2rem;
  font-family: "Cormorant Garamond", Georgia, "Times New Roman", serif;
  font-size: 1.8rem;
  line-height: 1;
  color: #7b8f52;
  opacity: 0.7;
}
.v-main .contents blockquote p {
  margin: 0.2rem 0;
  padding-left: 0.8rem;
}
.v-main .contents blockquote p:first-child strong {
  display: block;
  font-family: "Cormorant Garamond", Georgia, "Times New Roman", serif;
  text-transform: uppercase;
  letter-spacing: 0.08em;
  color: var(--dnd-brown);
  margin-bottom: 0.25rem;
  border-bottom: 2px solid rgba(101, 69, 25, 0.3);
  padding-bottom: 0.15rem;
}

/* --------------------------------------------------------------------------
   11) Tables
   -------------------------------------------------------------------------- */

/* Generic tables in content */
.contents table {
  border-collapse: collapse;
  width: 100%;
  margin: 0.5rem 0;
  background: rgba(255, 255, 255, 0.4);
}
.contents th,
.contents td {
  border: 1px solid rgba(0, 0, 0, 0.15);
  padding: 0.4rem 0.6rem;
}
.contents th {
  background: var(--dnd-grad-panel);
  color: var(--dnd-ink);
  text-transform: uppercase;
  letter-spacing: 0.05em;
  font-size: 0.85rem;
  border-bottom: 2px solid var(--dnd-red);
}
.contents td {
  font-size: 0.9rem;
}

/* Wiki.js “figure.table” gets a different “row-card” look */
.v-main .contents figure.table {
  display: block;
  max-width: 100%;
  overflow: auto;
  max-height: 100%;
}
.v-main .contents figure.table > table {
  width: 100%;
  max-width: none;
  border-collapse: separate !important;

/* ==========================================================================
   Comments / Discussion (Wiki.js) — "make it obey" edition
   DOM root: <div id="discussion" class="comments-container">...</div>
   This widget uses Vuetify theme classes (theme--dark, blue-grey, darken-2)
   so we target those directly and use high specificity.
   ========================================================================== */

/* Root container */
html body #app .v-application .v-main #discussion.comments-container {
  max-width: 1200px;
  margin: 24px auto 0;
  border-radius: 4px;
  overflow: hidden;

  border: 1px solid var(--dnd-border) !important;
  box-shadow: 0 6px 18px rgba(0, 0, 0, 0.25) !important;
}

/* Header bar (Vuetify marks it theme--dark; override anyway) */
html body #app .v-application .v-main #discussion.comments-container > .comments-header,
html body #app .v-application .v-main #discussion.comments-container > .comments-header.theme--dark {
  display: flex;
  align-items: center;
  padding: 8px 14px;

  background: var(--dnd-grad-panel) !important;
  color: var(--dnd-brown) !important;
  border-bottom: 2px solid rgba(101, 69, 25, 0.45) !important;

  font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif !important;
  letter-spacing: 0.08em !important;
  text-transform: uppercase !important;
  font-size: 0.85rem !important;
}

/* Header icon */
html body #app .v-application .v-main #discussion.comments-container > .comments-header .v-icon {
  color: var(--dnd-red) !important;
  font-size: 18px !important;
}

/* Main panel */
html body #app .v-application .v-main #discussion.comments-container > .comments-main {
  background: var(--dnd-parchment) !important;
  padding: 12px 16px 14px !important;
}

/* Input shell */
html body #app .v-application .v-main #discussion .v-input__slot.white {
  background: rgba(245, 241, 230, 0.95) !important;
  border-radius: 4px !important;
  border: 1px solid var(--dnd-border) !important;
  box-shadow: none !important;
}

/* Textarea */
html body #app .v-application .v-main #discussion textarea {
  font-family: Lora, Georgia, "Times New Roman", serif !important;
  color: var(--dnd-ink) !important;
}

/* Little grey helper texts */
html body #app .v-application .v-main #discussion .blue-grey--text,
html body #app .v-application .v-main #discussion .caption {
  color: var(--dnd-muted) !important;
}

/* Divider */
html body #app .v-application .v-main #discussion .v-divider {
  border-color: rgba(101, 69, 25, 0.35) !important;
}

/* --------------------------------------------------------------------------
   The button: class="v-btn ... theme--dark blue-grey darken-2"
   Target that exact combo so it can’t squirm away.
   -------------------------------------------------------------------------- */
html body #app .v-application .v-main #discussion button.v-btn.theme--dark.blue-grey.darken-2,
html body #app .v-application .v-main #discussion button.v-btn.v-btn--depressed.theme--dark.blue-grey.darken-2 {
  background: var(--dnd-grad-btn-primary) !important;
  color: #fef9e8 !important;
  border-radius: 999px !important;

  font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif !important;
  text-transform: uppercase !important;
  letter-spacing: 0.05em !important;
}

/* Button icon */
html body #app .v-application .v-main #discussion button.v-btn.theme--dark.blue-grey.darken-2 .v-icon {
  color: #fef9e8 !important;
}

/* Timeline post cards */
html body #app .v-application .v-main #discussion .v-timeline-item.comments-post .v-card.theme--light {
  background: rgba(245, 241, 230, 0.96) !important;
  border: 1px solid var(--dnd-border) !important;
  border-radius: 4px !important;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.15) !important;
}

/* Post meta */
html body #app .v-application .v-main #discussion .comments-post-name strong {
  color: var(--dnd-brown) !important;
  font-family: "Source Sans 3", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif !important;
}
html body #app .v-application .v-main #discussion .comments-post-date {
  color: var(--dnd-muted) !important;
}

/* Post content */
html body #app .v-application .v-main #discussion .comments-post-content p {
  font-family: Lora, Georgia, "Times New Roman", serif !important;
  color: var(--dnd-ink) !important;
  line-height: 1.6 !important;
}

/* Edit/delete icons */
html body #app .v-application .v-main #discussion .comments-post-actions .v-icon.v-icon--link {
  color: var(--dnd-muted) !important;
  opacity: 0.75;
}
html body #app .v-application .v-main #discussion .comments-post-actions .v-icon.v-icon--link:hover {
  color: var(--dnd-red) !important;
  opacity: 1;
}

/* Avatar dot ring (your DOM had pink darken-4; make it on-theme) */
html body #app .v-application .v-main #discussion .v-timeline-item__inner-dot {
  background: var(--dnd-red) !important;
}
html body #app .v-application .v-main #discussion .v-avatar.blue-grey {
  background: var(--dnd-deep) !important;
}

